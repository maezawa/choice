angular.module("designApp").controller("DisplayCtrl",["$scope","orderService",function(a,c){a.order=c.obj;a.cam=1;a.$on("PartsChange",function(a,b){c.makeJson(b)});a.addCart=function(){c.addCart()};a.addCloak=function(){$localStorage.cloak=c.obj};a.rotate=function(c){var b=a.cam,b=Math.abs((b-1)%4+1),b=c?++b:--b;0==b&&(b=4);5==b&&(b=1);return b}}]).controller("DesignCtrl",["$scope","$location","orderService","parts","site",function(a,c,d,b,e){a.parts=b;a.steps=e.steps;a.isComplete=d.isComplete();
a.init=function(b){angular.element(document.querySelector("#Display")).css({display:""});angular.element(document.querySelector("#Navigation")).css({"margin-top":""});var e=c.path(),d=0;a.steps.forEach(function(a,b){a.u==e&&(d=b)});a.stepx=a.steps[d];a.partName=b;a.datas=a.parts[b];a.data=a.order[a.partName]?{selected:a.order[a.partName]}:{selected:1}};a.goStep=function(){c.path(a.stepx.u)};a.showDesc=function(){document.querySelector(".desc");a.name=this.t.name;a.desc=this.t.desc};a.$watch("data.selected",
function(){if(a.partName){var b={},c=a.partName||"cloth";"undefined"!=typeof c&&(b[c]=a.data.selected)&&a.$emit("PartsChange",b)}})}]).controller("EmbroideryCtrl",["$scope","$location","orderService","parts","site",function(a,c,d,b,e){a.embroidery={selected:1};a.embColor={selected:1};a.embPos={selected:1};a.embroideries=b.embroidery;a.embColors=b.embColor;a.embPoss=b.embPos;a.steps=e.steps;a.isComplete=d.isComplete();a.saveCurrentOrder=function(){d.setCurrentOrder()};a.init=function(){var b=c.path(),
d=0;a.steps.forEach(function(a,c){a.u==b&&(d=c)});a.stepx=a.steps[d]};a.goStep=function(){c.path(a.stepx.u)};a.$watch("embroidery.selected",function(){a.$emit("PartsChange",{embroidery:a.embroidery.selected})});a.$watch("embName",function(){a.$emit("PartsChange",{embName:a.embName})});a.$watch("embColor.selected",function(){a.$emit("PartsChange",{embColor:a.embColor.selected})});a.$watch("embPos.selected",function(){a.$emit("PartsChange",{embPos:a.embPos.selected})})}]).controller("ConfirmCtrl",["$scope",
"parts","orderService",function(a,c,d){a.parts=c;angular.element(document.querySelector("#Display, #Zoom")).css({display:"none"});angular.element(document.querySelector("#Navigation")).css({"margin-top":0});a.confirm=d.getCurrentOrder()}]).controller("MeasureCtrl",["$scope","site",function(a,c){a.kindMeasure={selected:0};a.r=c.sizeRange;var d,b;a.init=function(){d=document.querySelectorAll("#DetailMeasure > form");b=document.querySelectorAll("#SimpleMeasure > form");for(var e=1,g=d.length;e<g;e++)angular.element(d[e]).css({display:"none"});
e=1;for(g=b.length;e<g;e++)angular.element(b[e]).css({display:"none"});a.sizeAdjust=c.sizeAdjust;a.brandNeck=a.brandChest=a.brandWaist=a.brandArm=a.brandWaist=a.brandArm=a.brandWrist=a.brandShoulderWidth=a.brandSleeveLength=a.brandDressLength=a.sizeAdjust[2]};a.goStep=function(a,c){for(var f=angular.element(c.target).parent(),f="DetailMeasure"==angular.element(f).parent()[0].id?[d,d.length]:[b,b.length],h=0;h<f[1];h++)angular.element(f[0][h]).css({display:"none"});angular.element(f[0][a]).css({display:"block"})}}]);
